<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíå K√º√ß√ºk Bir S√ºrpriz üíå</title>

  <style>
    :root {
      --pink1:#ffb6c1;
      --pink2:#ff66b2;
      --accent:#ff1493;
    }
    * { box-sizing: border-box; }
    html, body {
      margin:0; height:100%;
      font-family:"Poppins","Dancing Script",system-ui;
      background: radial-gradient(circle at center, #ffe6f0, #ffd1e3 40%, #ffb3d0 100%);
      display:flex; align-items:center; justify-content:center;
      overflow:hidden; color:#3a0033;
    }

    /* === HEART CURTAIN === */
    .curtain-wrap {
      position:fixed; inset:0; display:flex; z-index:9999; pointer-events:none;
    }
    .curtain {
      flex:1; display:flex; flex-wrap:wrap; align-content:flex-start;
      justify-content:center; transition:transform 2s cubic-bezier(.2,.8,.2,1);
      overflow:hidden;
    }
    .curtain span {
      display:inline-block; font-size:clamp(14px,2vw,22px);
      animation: floatHeart 3s ease-in-out infinite alternate;
    }
    @keyframes floatHeart {
      0% { transform:translateY(0) rotate(0deg); }
      100% { transform:translateY(-10px) rotate(10deg); }
    }
    .curtain.left { transform-origin:left center; background:transparent; }
    .curtain.right { transform-origin:right center; background:transparent; }
    .curtain.open.left { transform:translateX(-100%); }
    .curtain.open.right { transform:translateX(100%); }

    /* === STAGE === */
    .stage {
      position:relative; z-index:50; max-width:1000px;
      display:flex; flex-direction:column; align-items:center; gap:20px;
      padding:20px;
    }
    h1 {
      font-family:"Dancing Script",cursive;
      font-size:2.3rem; color:#a0006b; text-align:center;
      text-shadow:0 2px 15px rgba(255,255,255,0.7);
      margin-bottom:10px;
    }

    /* === ENVELOPE === */
    .envelope {
      position:relative;
      width:clamp(200px,36vw,420px);
      height:clamp(120px,22vw,260px);
      background:linear-gradient(180deg,#ffd1e3,#ffb3d0);
      border-radius:14px;
      box-shadow:0 10px 40px rgba(255,20,147,0.25);
      border:2px solid rgba(255,255,255,0.5);
      cursor:pointer;
      overflow:visible;
      transition:transform .5s ease, opacity .6s ease;
    }
    .envelope::before {
      content:""; position:absolute; left:0; top:-1px;
      width:100%; height:55%;
      background:linear-gradient(180deg,#ff93bb,#ff5c96);
      clip-path:polygon(0 0, 100% 0, 50% 100%);
      border-radius:12px; transform-origin:top center;
      transition:transform 1s cubic-bezier(.2,.8,.2,1);
    }
    .envelope.open::before { transform:translateY(-120%) rotateX(180deg); }
    .envelope.pulse { animation:pulse 2.5s infinite; }
    @keyframes pulse {
      0%{transform:translateY(0)}
      50%{transform:translateY(-6px) scale(1.02)}
      100%{transform:translateY(0)}
    }
    .seal {
      position:absolute; left:50%; top:calc(50% - 30px);
      transform:translateX(-50%);
      width:64px; height:64px; border-radius:50%;
      background:radial-gradient(circle at 20% 20%, #ff4d6d, #c51162);
      color:white; font-size:26px;
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 8px 30px rgba(197,10,80,0.28);
    }
    .label {
      position:absolute; left:50%; transform:translateX(-50%);
      bottom:14px; background:rgba(255,255,255,0.75);
      color:#62103a; padding:10px 18px; border-radius:999px;
      font-weight:700; font-size:1rem;
      box-shadow:0 6px 18px rgba(255,105,180,0.12);
    }
    .envelope.hide { opacity:0; transform:scale(1.2); pointer-events:none; }

    /* === LETTER === */
    .letter {
      display:none;
      width:min(900px,92%);
      background:white;
      border-radius:14px;
      padding:25px;
      box-shadow:0 15px 50px rgba(255,20,147,0.2);
      border:3px solid rgba(255,196,203,0.6);
    }
    .letter.show { display:block; animation:pop 1s cubic-bezier(.2,.9,.2,1); }
    @keyframes pop { from{opacity:0;transform:scale(.9)} to{opacity:1;transform:scale(1)} }

    .continue-btn {
      margin-top:15px; padding:12px 26px;
      background:linear-gradient(90deg,#ff66b2,#ff1493);
      border:none; border-radius:999px;
      color:white; font-weight:700; font-size:1rem;
      cursor:pointer; box-shadow:0 10px 30px rgba(255,20,147,0.18);
    }

    /* particle hearts */
    .particle {
      position:fixed; left:0; top:0; pointer-events:none;
      will-change:transform,opacity; font-size:18px;
    }
  </style>
</head>
<body>

  <!-- HEART CURTAIN -->
  <div class="curtain-wrap">
    <div class="curtain left" id="curtainLeft"></div>
    <div class="curtain right" id="curtainRight"></div>
  </div>

  <main class="stage">
    <h1>üíå Birtanem... Sana bir s√ºrpriz hazƒ±rladƒ±m</h1>
    <div class="envelope pulse" id="envelope">
      <div class="seal">ü©∑</div>
      <div class="label">A√ß Beni ‚ù§Ô∏è</div>
    </div>
    <article class="letter" id="letter">
      <h2 style="font-family:'Dancing Script',cursive;">Sevgilim,</h2>
      <p>Bu k√º√ß√ºk notu sana sevgimle yazƒ±yorum. Seninle ge√ßen her an kalbimde √∂zel bir yer a√ßtƒ±.  
      G√ºl√º≈ü√ºn karanlƒ±k g√ºnleri aydƒ±nlatƒ±yor, elin elimde olduƒüunda d√ºnya daha g√ºzel d√∂n√ºyor.  
      Bu mektup sadece k√º√ß√ºk bir ba≈ülangƒ±√ß ‚Äî asƒ±l s√ºrpriz i√ßin devam et butonuna bas. üíñ</p>
      <div style="text-align:center">
        <button class="continue-btn" id="continueBtn">Devam Et üíû</button>
      </div>
    </article>
  </main>

  <audio id="openSound" preload="auto">
    <source src="open.mp3" type="audio/mpeg">
  </audio>

  <script>
    /* === Kalp perdesi olu≈ütur === */
    const leftCurtain = document.getElementById("curtainLeft");
    const rightCurtain = document.getElementById("curtainRight");

    function makeHearts(sideEl){
      const count = 250; // per side
      for(let i=0;i<count;i++){
        const s = document.createElement("span");
        s.textContent = ["‚ù§Ô∏è","üíñ","üíï","üíó","üíû","ü©∑"][Math.floor(Math.random()*6)];
        s.style.opacity = 0.5 + Math.random()*0.5;
        s.style.transform = `scale(${0.8+Math.random()*1.2}) rotate(${Math.random()*60-30}deg)`;
        sideEl.appendChild(s);
      }
    }
    makeHearts(leftCurtain);
    makeHearts(rightCurtain);

    setTimeout(()=>{
      leftCurtain.classList.add("open");
      rightCurtain.classList.add("open");
      setTimeout(()=>document.querySelector(".curtain-wrap").remove(),2000);
    },2000);

    /* === Envelope interaction === */
    const envelope = document.getElementById("envelope");
    const letter = document.getElementById("letter");
    const continueBtn = document.getElementById("continueBtn");
    const openSound = document.getElementById("openSound");

    let opened=false;
    envelope.addEventListener("click", async ()=>{
      if(opened) return; opened=true;
      envelope.classList.remove("pulse");
      envelope.classList.add("hide");
      try{openSound.currentTime=0;await openSound.play();}catch(e){}
      spawnHearts(400);
      setTimeout(()=>letter.classList.add("show"),2000);
    });

    function spawnHearts(count){
      const rect = envelope.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/4;
      for(let i=0;i<count;i++){
        setTimeout(()=>{
          const h = document.createElement("div");
          h.className="particle";
          h.textContent=["üíñ","üíï","üíò","üíó","‚ù§Ô∏è","ü©∑"][Math.floor(Math.random()*6)];
          const size=16+Math.random()*12;
          h.style.fontSize=size+"px";
          h.style.left=cx+"px";
          h.style.top=cy+"px";
          document.body.appendChild(h);
          const dx=(Math.random()-0.5)*innerWidth*0.9;
          const dy=(Math.random()-1)*innerHeight*0.9;
          const dur=1.8+Math.random()*1.8;
          requestAnimationFrame(()=>{
            h.style.transition=`transform ${dur}s cubic-bezier(.2,.8,.2,1), opacity ${dur}s ease`;
            h.style.transform=`translate(${dx}px,${dy}px) rotate(${Math.random()*360}deg) scale(${Math.random()+0.5})`;
            h.style.opacity="0";
          });
          setTimeout(()=>h.remove(),dur*1000);
        },i*5);
      }
    }

    continueBtn.addEventListener("click",()=>window.location.href="love.html");
  </script>
</body>
</html>
